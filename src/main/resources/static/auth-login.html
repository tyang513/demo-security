<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login Page</title>
    <link rel="stylesheet" href="css/login.css">
</head>
<body>
<div class="login-container">
    <h2>自定义登录界面 && 登录端点</h2>

    <!-- 自有用户登录 -->
    <form action="/authorization/login-form" method="post">
        <input type="text" name="username" placeholder="用户名" required/>
        <input type="password" name="password" placeholder="密码" required/>
        <button type="submit" class="login-btn">登录</button>
    </form>

    <hr/>

    <!-- Google 登录 -->
    <form action="/oauth2/authorization/google" method="get">
        <button type="submit" class="google-btn">使用 Google 登录</button>
    </form>

    <!-- Facebook 登录 -->
    <form action="/oauth2/authorization/facebook" method="get">
        <button type="submit" class="facebook-btn">使用 Facebook 登录</button>
    </form>

    <!-- GitHub 登录 -->
    <form action="/oauth2/authorization/github" method="get">
        <button type="submit" class="github-btn">使用 GitHub 登录</button>
    </form>

    <!-- 登出按钮 -->
    <form method="post" action="/logout">
        <button type="submit">登出</button>
    </form>

    <!-- 错误提示 -->
    <div id="errorBox" class="error-message" style="display:none;"></div>
</div>

<script>
    // 从 URL 解析 error 参数
    const params = new URLSearchParams(window.location.search);
    const error = params.get("error");
    if (error) {
        const errorBox = document.getElementById("errorBox");
        errorBox.textContent = decodeURIComponent(error);
        errorBox.style.display = "block";
    }
</script>
</body>
</html>
